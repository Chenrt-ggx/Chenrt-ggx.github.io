<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Chenrt"><meta name="keywords" content="Chenrt, @Chenrt, Chenrt Blog, 计算机, 网络安全, 博客, 个人网站"><meta name="description" content="Chenrt 的个人博客"><meta name="generator" content="Hexo"><link rel="icon" href="/favicon.svg"><title>Chenrt の 小窝 - X86 汇编程序设计课程整理（下）</title><script defer="defer" src="/js/chunk-vendors.js"></script><script defer="defer" src="/js/app.js"></script><link href="/css/chunk-vendors.css" rel="stylesheet"><link href="/css/app.css" rel="stylesheet"></head><body><noscript><header><nav><a href="/">Home</a></nav><nav><a href="/blogs/1">Blogs</a></nav><nav><a href="/category">Categories</a></nav><nav><a href="/tag">Tags</a></nav><nav><a href="/archive">Archives</a></nav><nav><a href="/about">About</a></nav><nav><a href="/apis">Api</a></nav></header><div><br></div><content><div><a href="/blog/2ea4aab1233a"><h1>X86 汇编程序设计课程整理（下）</h1></a><div><div><div><a href="/category/Buaa/1">Buaa</a></div><div><a href="/category/Buaa/X86/1">X86</a></div></div></div><div><div><div><a href="/tag/Assembly/1">Assembly</a></div><div><a href="/tag/Architecture/1">Architecture</a></div></div></div><div><p>[迁移自博客园] | BUAA 2022 x86 Assembly Programming Summary</p><span id="more"></span><h2 id="数制转换与排序"><a class="markdownIt-Anchor" href="#数制转换与排序"></a> 数制转换与排序</h2><h3 id="显示-16-进制数"><a class="markdownIt-Anchor" href="#显示-16-进制数"></a> 显示 16 进制数</h3><p>查表法显示一位 16 进制数：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
ASC_TABLE   <span class="hljs-built_in">DB</span>          <span class="hljs-number">30H</span>, <span class="hljs-number">31H</span>, <span class="hljs-number">32H</span>, <span class="hljs-number">33H</span>, <span class="hljs-number">34H</span>, <span class="hljs-number">35H</span>, <span class="hljs-number">36H</span>, <span class="hljs-number">37H</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">38H</span>, <span class="hljs-number">39H</span>, <span class="hljs-number">41H</span>, <span class="hljs-number">42H</span>, <span class="hljs-number">43H</span>, <span class="hljs-number">44H</span>, <span class="hljs-number">45H</span>, <span class="hljs-number">46H</span>
HEX         <span class="hljs-built_in">DB</span>          ?
ASC         <span class="hljs-built_in">DB</span>          ?
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DS</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET ASC_TABLE
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, HEX
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, [<span class="hljs-built_in">SI</span>]
            <span class="hljs-keyword">MOV</span>         ASC, <span class="hljs-built_in">AL</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">RET</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>显示 16 进制数：</p><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA      <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
SRACK_BOTTOM    <span class="hljs-built_in">EQU</span>         $-STACK_AREA
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
VALUE           <span class="hljs-built_in">DW</span>          <span class="hljs-number">1101100111100110B</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, STACK
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SP</span>, SRACK_BOTTOM
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, VALUE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">4</span>
<span class="hljs-symbol">
LP1:</span>            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, <span class="hljs-number">4</span>
                <span class="hljs-keyword">ROL</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">CL</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">BL</span>
                <span class="hljs-keyword">AND</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0FH</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">39h</span>
                <span class="hljs-keyword">JBE</span>         DISP
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;A&#x27;</span> - <span class="hljs-string">&#x27;9&#x27;</span> - <span class="hljs-number">1</span>
<span class="hljs-symbol">
DISP:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">LOOP</span>        LP1
<span class="hljs-symbol">
EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><h3 id="显示-10-进制数"><a class="markdownIt-Anchor" href="#显示-10-进制数"></a> 显示 10 进制数</h3><p>解法 1：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA  <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
VALUE       <span class="hljs-built_in">DW</span>          <span class="hljs-number">0FFFEH</span>
DIVISOR     <span class="hljs-built_in">DW</span>          <span class="hljs-number">10000</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">100</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, VALUE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET DIVISOR
<span class="hljs-symbol">
LP1:</span>        <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">LOOP</span>        LP1
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>解法 2：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA  <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
VALUE       <span class="hljs-built_in">DW</span>          <span class="hljs-number">0FFFEH</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, VALUE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
LP1:</span>        <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">LOOP</span>        LP1

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">LP2:</span>        <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">LOOP</span>        LP2
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>解法 3：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA  <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
VALUE       <span class="hljs-built_in">DW</span>          <span class="hljs-number">0FFFEH</span>
RESULT      <span class="hljs-built_in">DB</span>          <span class="hljs-number">5</span> DUP(?), <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, VALUE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET RESULT + <span class="hljs-number">4</span>
<span class="hljs-symbol">
LP1:</span>        <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">DI</span>], <span class="hljs-built_in">DL</span>
            <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">LOOP</span>        LP1

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET RESULT
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><h3 id="冒泡排序"><a class="markdownIt-Anchor" href="#冒泡排序"></a> 冒泡排序</h3><p>解法 1：</p><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA      <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
SRACK_BOTTOM    <span class="hljs-built_in">EQU</span>         $-STACK_AREA
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
TABLE_LEN       <span class="hljs-built_in">DW</span>          <span class="hljs-number">16</span>
TABLE           <span class="hljs-built_in">DW</span>          <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>
                <span class="hljs-built_in">DW</span>          <span class="hljs-number">41H</span>, <span class="hljs-number">40</span>, <span class="hljs-number">42H</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0FFFFH</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>
RESULT          <span class="hljs-built_in">DB</span>          <span class="hljs-number">5</span> DUP(?), <span class="hljs-number">20H</span>, <span class="hljs-string">&#x27;$&#x27;</span>
NEW_LINE        <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK
MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, STACK
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SP</span>, SRACK_BOTTOM
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
<span class="hljs-symbol">
PART1:</span>          <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
<span class="hljs-symbol">LP1:</span>            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET RESULT + <span class="hljs-number">4</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">LP1_1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">DI</span>], <span class="hljs-built_in">DL</span>
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">LOOP</span>        LP1_1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET RESULT
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">LOOP</span>        LP1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET NEW_LINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
PART2:</span>          <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">CX</span>
<span class="hljs-symbol">LP2:</span>            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
<span class="hljs-symbol">LP2_1:</span>          <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">JBE</span>         CONTINUE
                <span class="hljs-keyword">XCHG</span>        <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">SI</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">CONTINUE:</span>       <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        LP2_1

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">JZ</span>          PART3
                <span class="hljs-keyword">JMP</span>         SHORT LP2
<span class="hljs-symbol">
PART3:</span>          <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
<span class="hljs-symbol">LP3:</span>            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET RESULT + <span class="hljs-number">4</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">LP3_1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">DI</span>], <span class="hljs-built_in">DL</span>
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">LOOP</span>        LP3_1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET RESULT
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">LOOP</span>        LP3

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET NEW_LINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><p>解法 2：</p><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA      <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
SRACK_BOTTOM    <span class="hljs-built_in">EQU</span>         $-STACK_AREA
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
TABLE_LEN       <span class="hljs-built_in">DW</span>          <span class="hljs-number">16</span>
TABLE           <span class="hljs-built_in">DW</span>          <span class="hljs-number">200</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1926</span>, <span class="hljs-number">0817</span>
                <span class="hljs-built_in">DW</span>          <span class="hljs-number">41H</span>, <span class="hljs-number">40</span>, <span class="hljs-number">42H</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">0FFFFH</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>
PUT_SPACE       <span class="hljs-built_in">DB</span>          <span class="hljs-number">20H</span>, <span class="hljs-string">&#x27;$&#x27;</span>
PUT_LINE        <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

DISP_CHR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_CHR        ENDP

DISP_STR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_STR        ENDP

DISP_VALUE      PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">DLPV1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">LOOP</span>        DLPV1
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">DLPV2:</span>          <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JNZ</span>         DLPV2_1
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JZ</span>          DLPV2_2
<span class="hljs-symbol">DLPV2_1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">CALL</span>        DISP_CHR
<span class="hljs-symbol">DLPV2_2:</span>        <span class="hljs-keyword">LOOP</span>        DLPV2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">RET</span>
DISP_VALUE      ENDP

DISP_ARRAY      PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
<span class="hljs-symbol">DLPA:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">CALL</span>        DISP_VALUE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_SPACE
                <span class="hljs-keyword">CALL</span>        DISP_STR
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        DLPA

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">RET</span>
DISP_ARRAY      ENDP

BUBBLE_SORT     PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">CX</span>
<span class="hljs-symbol">SORTLP1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
<span class="hljs-symbol">SORTLP2:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">JBE</span>         CONTINUE
                <span class="hljs-keyword">XCHG</span>        <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">SI</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">CONTINUE:</span>       <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        SORTLP2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">JZ</span>          RETURN
                <span class="hljs-keyword">JMP</span>         SORTLP1
<span class="hljs-symbol">RETURN:</span>         <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">RET</span>
BUBBLE_SORT     ENDP

MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, STACK
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SP</span>, SRACK_BOTTOM
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
                <span class="hljs-keyword">CALL</span>        DISP_ARRAY
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_LINE
                <span class="hljs-keyword">CALL</span>        DISP_STR

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET TABLE
                <span class="hljs-keyword">CALL</span>        BUBBLE_SORT

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
                <span class="hljs-keyword">CALL</span>        DISP_ARRAY
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_LINE
                <span class="hljs-keyword">CALL</span>        DISP_STR
<span class="hljs-symbol">EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><h2 id="输入输出与乘法"><a class="markdownIt-Anchor" href="#输入输出与乘法"></a> 输入输出与乘法</h2><h3 id="读入与输出数字"><a class="markdownIt-Anchor" href="#读入与输出数字"></a> 读入与输出数字</h3><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA  <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
RESULT      <span class="hljs-built_in">DB</span>          <span class="hljs-number">5</span> DUP(?), <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

GETNUM      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
LP1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">JE</span>          RETURN
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">JB</span>          LP1
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">39H</span>
            <span class="hljs-keyword">JA</span>          LP1
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">AH</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">LOOP</span>        LP1
<span class="hljs-symbol">
RETURN:</span>     <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">RET</span>
GETNUM      ENDP

DISP_VALUE  PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
DLP1:</span>       <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">LOOP</span>        DLP1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">
DLP2:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         DLP2_1
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JZ</span>          DLP2_2
<span class="hljs-symbol">
DLP2_1:</span>     <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">DLP2_2:</span>     <span class="hljs-keyword">LOOP</span>        DLP2

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">RET</span>
DISP_VALUE  ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">CALL</span>        GETNUM
            <span class="hljs-keyword">CALL</span>        DISP_VALUE
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><h3 id="16-位乘法"><a class="markdownIt-Anchor" href="#16-位乘法"></a> 16 位乘法</h3><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA      <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
SRACK_BOTTOM    <span class="hljs-built_in">EQU</span>         $-STACK_AREA
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
PUT_LINE        <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

DISP_CHR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_CHR        ENDP

DISP_STR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_STR        ENDP

DISP_VALUE      PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
DLPV1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">LOOP</span>        DLPV1
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">
DLPV2:</span>          <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JNZ</span>         DLPV2_1
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JZ</span>          DLPV2_2
<span class="hljs-symbol">
DLPV2_1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">CALL</span>        DISP_CHR
<span class="hljs-symbol">DLPV2_2:</span>        <span class="hljs-keyword">LOOP</span>        DLPV2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">RET</span>
DISP_VALUE      ENDP

READ_VALUE      PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
RDVL:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0DH</span>
                <span class="hljs-keyword">JE</span>          RETURN
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">JB</span>          RDVL
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">39H</span>
                <span class="hljs-keyword">JA</span>          RDVL
                <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">XOR</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">AH</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">LOOP</span>        RDVL
<span class="hljs-symbol">
RETURN:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">RET</span>
READ_VALUE      ENDP

MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, STACK
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SP</span>, SRACK_BOTTOM
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">CALL</span>        READ_VALUE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">CALL</span>        READ_VALUE
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">CALL</span>        DISP_VALUE

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_LINE
                <span class="hljs-keyword">CALL</span>        DISP_STR
<span class="hljs-symbol">
EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><h3 id="32-位乘法"><a class="markdownIt-Anchor" href="#32-位乘法"></a> 32 位乘法</h3><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
STACK_AREA      <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
SRACK_BOTTOM    <span class="hljs-built_in">EQU</span>         $-STACK_AREA
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
LHS             <span class="hljs-built_in">DD</span>          <span class="hljs-number">19260817H</span>
RHS             <span class="hljs-built_in">DD</span>          <span class="hljs-number">19260817H</span>
RESULT          <span class="hljs-built_in">DW</span>          <span class="hljs-number">4</span> DUP(<span class="hljs-number">0H</span>)
PUT_LINE        <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

DISP_CHR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_CHR        ENDP

DISP_STR        PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_STR        ENDP

DWORD_MULT      PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET LHS
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET RHS

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">DI</span>]
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">MOV</span>         [RESULT], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         [RESULT + <span class="hljs-number">2</span>], <span class="hljs-built_in">DX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">DI</span>]
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">ADD</span>         [RESULT + <span class="hljs-number">2</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">ADC</span>         [RESULT + <span class="hljs-number">4</span>], <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">ADC</span>         [RESULT + <span class="hljs-number">6</span>], <span class="hljs-number">0</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">DI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">ADD</span>         [RESULT + <span class="hljs-number">2</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">ADC</span>         [RESULT + <span class="hljs-number">4</span>], <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">ADC</span>         [RESULT + <span class="hljs-number">6</span>], <span class="hljs-number">0</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">DI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">ADD</span>         [RESULT + <span class="hljs-number">4</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">ADC</span>         [RESULT + <span class="hljs-number">6</span>], <span class="hljs-built_in">DX</span>

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">RET</span>
DWORD_MULT      ENDP

DISP_WORD       PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">4</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">16</span>
<span class="hljs-symbol">
DLPV1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">39H</span>
                <span class="hljs-keyword">JBE</span>         SKIP
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-string">&#x27;A&#x27;</span> - <span class="hljs-string">&#x27;9&#x27;</span> - <span class="hljs-number">1</span>
<span class="hljs-symbol">SKIP:</span>           <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">LOOP</span>        DLPV1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">4</span>
<span class="hljs-symbol">DLPV2:</span>          <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">CALL</span>        DISP_CHR
                <span class="hljs-keyword">LOOP</span>        DLPV2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">RET</span>
DISP_WORD       ENDP

DISP_HEX_VALUE  PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">4</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET RESULT + <span class="hljs-number">6</span>
<span class="hljs-symbol">
DHVL:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">CALL</span>        DISP_WORD
                <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        DHVL

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">RET</span>
DISP_HEX_VALUE  ENDP

DISP_DEC_VALUE  PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">20</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET RESULT
<span class="hljs-symbol">
DDVL1:</span>          <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">6</span>]
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">6</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">4</span>]
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">4</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>]
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span> + <span class="hljs-number">2</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span>[<span class="hljs-built_in">SI</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">LOOP</span>        DDVL1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">20</span>
<span class="hljs-symbol">
DDVL2:</span>          <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JNZ</span>         DDVL2_1
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
                <span class="hljs-keyword">JZ</span>          DDVL2_2
<span class="hljs-symbol">
DDVL2_1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">DDVL2_2:</span>        <span class="hljs-keyword">LOOP</span>        DDVL2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">RET</span>
DISP_DEC_VALUE  ENDP

MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, STACK
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SP</span>, SRACK_BOTTOM
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">CALL</span>        DWORD_MULT
                <span class="hljs-keyword">CALL</span>        DISP_HEX_VALUE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_LINE
                <span class="hljs-keyword">CALL</span>        DISP_STR
                <span class="hljs-keyword">CALL</span>        DISP_DEC_VALUE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUT_LINE
                <span class="hljs-keyword">CALL</span>        DISP_STR
<span class="hljs-symbol">
EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><h2 id="字符串处理"><a class="markdownIt-Anchor" href="#字符串处理"></a> 字符串处理</h2><h3 id="字符串查找"><a class="markdownIt-Anchor" href="#字符串查找"></a> 字符串查找</h3><p>查找字符串并删除：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
BUFF        <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line2: 1234&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line3: 5678&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
BUFF_LEN    <span class="hljs-built_in">EQU</span>         $-BUFF
BUFF_END    <span class="hljs-built_in">DW</span>          $
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">ES</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET BUFF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET BUFF
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, BUFF_END
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DI</span>, <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">JZ</span>          DEL_END

            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">DI</span>], <span class="hljs-number">0A0DH</span>
            <span class="hljs-keyword">JNZ</span>         CONTINUE
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, BUFF_END
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">CLD</span>
            <span class="hljs-keyword">REP</span>         <span class="hljs-keyword">MOVSB</span>
            <span class="hljs-keyword">SUB</span>         BUFF_END, <span class="hljs-number">2</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
<span class="hljs-symbol">
CONTINUE:</span>   <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         LP1
<span class="hljs-symbol">
DEL_END:</span>    <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET BUFF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>查找字符串并插入：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
BUFF        <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line2: 1234&#x27;</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line3: 5678&#x27;</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
BUFF_LEN    <span class="hljs-built_in">EQU</span>         $-BUFF
ADDI_BUF    <span class="hljs-built_in">DB</span>          <span class="hljs-number">30</span> DUP(?)
BUFF_END    <span class="hljs-built_in">DW</span>          ADDI_BUF
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">ES</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET BUFF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET BUFF
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DI</span>, BUFF_END
            <span class="hljs-keyword">JAE</span>         INS_END
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, BUFF_END
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">CLD</span>
            <span class="hljs-keyword">REPNZ</span>       <span class="hljs-keyword">SCASB</span>
            <span class="hljs-keyword">JNZ</span>         INS_END

            <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, BUFF_END
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, BUFF_END
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">STD</span>
            <span class="hljs-keyword">REP</span>         <span class="hljs-keyword">MOVSB</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">CLD</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">STOSB</span>
            <span class="hljs-keyword">INC</span>         BUFF_END
<span class="hljs-symbol">
CONTINUE:</span>   <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         LP1
<span class="hljs-symbol">
INS_END:</span>    <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET BUFF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>读入字符串并查找：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
LEN         <span class="hljs-built_in">EQU</span>         <span class="hljs-number">121</span>
IN_BUF      <span class="hljs-built_in">DB</span>          LEN - <span class="hljs-number">1</span>
            <span class="hljs-built_in">DB</span>          ?
            <span class="hljs-built_in">DB</span>          LEN DUP(?)
PUTLINE     <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

FIND        PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">2</span>]
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

            <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
            <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">FLOOP:</span>      <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          RETURN
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">DL</span>
            <span class="hljs-keyword">JNZ</span>         FLOOP
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">JMP</span>         FLOOP
<span class="hljs-symbol">
RETURN:</span>     <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">RET</span>
FIND        ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, IN_BUF + <span class="hljs-number">1</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;h&#x27;</span>
            <span class="hljs-keyword">CALL</span>        FIND

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">48</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><h3 id="字符串比较"><a class="markdownIt-Anchor" href="#字符串比较"></a> 字符串比较</h3><p>解法 1：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING1     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
STRING2     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">ES</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

STRCMP      PROC
            <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">ES</span>:[<span class="hljs-built_in">DI</span>]
            <span class="hljs-keyword">JA</span>          L1
            <span class="hljs-keyword">JB</span>          L2
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          L3
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         SHORT LP1
<span class="hljs-symbol">L1:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L2:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L3:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">RETURN:</span>     <span class="hljs-keyword">RET</span>
STRCMP      ENDP

SIGN        PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">61</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
BACK:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">RET</span>
SIGN        ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING2
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET STRING2
            <span class="hljs-keyword">CALL</span>        STRCMP
            <span class="hljs-keyword">CALL</span>        SIGN
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>解法 2：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING1     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
STRING2     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">ES</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

STRCMP      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">CLD</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">1</span>
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          LP1_1
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">JMP</span>         SHORT LP1
<span class="hljs-symbol">LP1_1:</span>      <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">REPE</span>        <span class="hljs-keyword">CMPSB</span>
            <span class="hljs-keyword">JA</span>          L1
            <span class="hljs-keyword">JB</span>          L2
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L1:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L2:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
<span class="hljs-symbol">RETURN:</span>     <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">RET</span>
STRCMP      ENDP

SIGN        PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">61</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
BACK:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">RET</span>
SIGN        ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING2
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET STRING2
            <span class="hljs-keyword">CALL</span>        STRCMP
            <span class="hljs-keyword">CALL</span>        SIGN
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>读入字符串并比较：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING      <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;litiansuo&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
LEN         <span class="hljs-built_in">EQU</span>         <span class="hljs-number">121</span>
IN_BUF      <span class="hljs-built_in">DB</span>          LEN - <span class="hljs-number">1</span>
            <span class="hljs-built_in">DB</span>          ?
            <span class="hljs-built_in">DB</span>          LEN DUP(?)
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

STRCMP      PROC
            <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">ES</span>:[<span class="hljs-built_in">DI</span>]
            <span class="hljs-keyword">JA</span>          L1
            <span class="hljs-keyword">JB</span>          L2
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          L3
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         SHORT LP1
<span class="hljs-symbol">L1:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L2:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
            <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L3:</span>         <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">RETURN:</span>     <span class="hljs-keyword">RET</span>
STRCMP      ENDP

OUTPUT      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">61</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">RET</span>
OUTPUT      ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, IN_BUF + <span class="hljs-number">1</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">CALL</span>        STRCMP

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">CALL</span>        OUTPUT
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><h3 id="其它问题"><a class="markdownIt-Anchor" href="#其它问题"></a> 其它问题</h3><p>字符串复制：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING1     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Test line1: Good morning!&#x27;</span>, <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;$&#x27;</span>
STRING2     <span class="hljs-built_in">DB</span>          <span class="hljs-number">100</span> DUP(?)
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">ES</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

STRCPY1     PROC
            <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">STR1_LP1:</span>   <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">STOSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         STR1_LP1
            <span class="hljs-keyword">RET</span>
STRCPY1     ENDP

STRCPY2     PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>

            <span class="hljs-keyword">CLD</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET STRING2
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING1
<span class="hljs-symbol">STR1_LP2:</span>   <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">STOSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         STR1_LP2

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">RET</span>
STRCPY2     ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET STRING2
            <span class="hljs-keyword">CALL</span>        STRCPY1

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET STRING2
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>读入字符串并大写：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
LEN         <span class="hljs-built_in">EQU</span>         <span class="hljs-number">121</span>
IN_BUF      <span class="hljs-built_in">DB</span>          LEN - <span class="hljs-number">1</span>
            <span class="hljs-built_in">DB</span>          ?
            <span class="hljs-built_in">DB</span>          LEN DUP(?)
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUF
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, IN_BUF + <span class="hljs-number">1</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
<span class="hljs-symbol">LP1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, [<span class="hljs-built_in">SI</span>]
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;a&#x27;</span>
            <span class="hljs-keyword">JB</span>          L2
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;z&#x27;</span>
            <span class="hljs-keyword">JA</span>          L2
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">20H</span>
            <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">SI</span>], <span class="hljs-built_in">AL</span>
<span class="hljs-symbol">L2:</span>         <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">LOOP</span>        LP1

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">09H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>字符指针数组排序：</p><pre class="highlight"><code class="x86asm">STACK           <span class="hljs-meta">SEGMENT</span>     PARA STACK
                <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK           ENDS

DATA            <span class="hljs-meta">SEGMENT</span>     PARA
STRING1         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;password&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING2         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;mysql&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING3         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;public&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING4         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Password&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING5         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;admin&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING6         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;superuser&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING7         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;Root&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
STRING8         <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;test&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>

TABLE_LEN       <span class="hljs-built_in">EQU</span>         <span class="hljs-number">8</span>
TABLE           <span class="hljs-built_in">DW</span>          STRING1, STRING2, STRING3, STRING4, STRING5, STRING6, STRING7, STRING8
TABLE_IN        <span class="hljs-built_in">Dw</span>          ?
TABLE_END       <span class="hljs-built_in">DW</span>          TABLE_IN

IN_LEN          <span class="hljs-built_in">EQU</span>         <span class="hljs-number">121</span>
IN_BUFF         <span class="hljs-built_in">DB</span>          IN_LEN - <span class="hljs-number">1</span>
                <span class="hljs-built_in">DB</span>          ?
                <span class="hljs-built_in">DB</span>          IN_LEN DUP(?)
PUTLINE         <span class="hljs-built_in">DB</span>          <span class="hljs-number">0DH</span>, <span class="hljs-number">0AH</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA            ENDS

CODE            <span class="hljs-meta">SEGMENT</span>     PARA
                <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

STRCMP          PROC
                <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">LP1:</span>            <span class="hljs-keyword">LODSB</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">ES</span>:[<span class="hljs-built_in">DI</span>]
                <span class="hljs-keyword">JA</span>          L1
                <span class="hljs-keyword">JB</span>          L2
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
                <span class="hljs-keyword">JZ</span>          L3
                <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">JMP</span>         SHORT LP1
<span class="hljs-symbol">L1:</span>             <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L2:</span>             <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
                <span class="hljs-keyword">JMP</span>         SHORT RETURN
<span class="hljs-symbol">L3:</span>             <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">RETURN:</span>         <span class="hljs-keyword">RET</span>
STRCMP          ENDP

DO_SORT         PROC
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
<span class="hljs-symbol">SLP1:</span>           <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET TABLE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-built_in">DX</span>
<span class="hljs-symbol">
SLP2:</span>           <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, [<span class="hljs-built_in">DI</span>]
                <span class="hljs-keyword">CALL</span>        STRCMP
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">JZ</span>          NSWAP

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">XCHG</span>        <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">DI</span>]
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">SI</span>], <span class="hljs-built_in">AX</span>
<span class="hljs-symbol">NSWAP:</span>          <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">DI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        SLP2

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        SLP1
                <span class="hljs-keyword">RET</span>
DO_SORT         ENDP

DO_INSERT       PROC
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
<span class="hljs-symbol">ILP1:</span>           <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, OFFSET IN_BUFF + <span class="hljs-number">2</span>
                <span class="hljs-keyword">CALL</span>        STRCMP
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
                <span class="hljs-keyword">JNZ</span>         INEXT

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, TABLE_END
<span class="hljs-symbol">ILP2:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, [<span class="hljs-built_in">DI</span> - <span class="hljs-number">2</span>]
                <span class="hljs-keyword">MOV</span>         [<span class="hljs-built_in">DI</span>], <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">DI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DI</span>, <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">JNZ</span>         ILP2
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">DI</span>], OFFSET IN_BUFF + <span class="hljs-number">2</span>
                <span class="hljs-keyword">JMP</span>         IRETURN
<span class="hljs-symbol">
INEXT:</span>          <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        ILP1

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, TABLE_END
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">WORD</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], OFFSET IN_BUFF + <span class="hljs-number">2</span>
<span class="hljs-symbol">IRETURN:</span>        <span class="hljs-keyword">RET</span>
DO_INSERT       ENDP

DISPLAY_TABLE   PROC
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET TABLE
<span class="hljs-symbol">PLP:</span>            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, [<span class="hljs-built_in">SI</span>]
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
                <span class="hljs-keyword">LOOP</span>        PLP

                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
                <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
                <span class="hljs-keyword">RET</span>
DISPLAY_TABLE   ENDP

MAIN            PROC        <span class="hljs-built_in">FAR</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">CALL</span>        DISPLAY_TABLE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">CALL</span>        DO_SORT

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">CALL</span>        DISPLAY_TABLE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET IN_BUFF
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, IN_BUFF + <span class="hljs-number">1</span>
                <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, OFFSET IN_BUFF + <span class="hljs-number">2</span>
                <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">CX</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN
                <span class="hljs-keyword">CALL</span>        DO_INSERT

                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, OFFSET PUTLINE
                <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
                <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, TABLE_LEN + <span class="hljs-number">1</span>
                <span class="hljs-keyword">CALL</span>        DISPLAY_TABLE
<span class="hljs-symbol">
EXIT:</span>           <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
                <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN            ENDP
CODE            ENDS
                END         MAIN
</code></pre><h2 id="子程序和跳转表"><a class="markdownIt-Anchor" href="#子程序和跳转表"></a> 子程序和跳转表</h2><h3 id="由多路条件转移转换成跳转表"><a class="markdownIt-Anchor" href="#由多路条件转移转换成跳转表"></a> 由多路条件转移转换成跳转表</h3><p>在数据定义中，定义跳转表，表的元素是分支地址：</p><blockquote><p>为实现多路分支，可以使用跳转表，如果某个程序需要 n 路分支，每路分支入口地址分别为 ROUTINE1, ROUTINE2, …, ROUTINEN，则可以将这些转移的入口地址组成一个表，叫跳转表；表内按顺序每个字单元存放一个入口的偏移地址。</p></blockquote><p>在程序中，通过转移指令（段内间接转移、段间间接转移）实现跳转：</p><blockquote><p>当需要转移到第 i 个分支时，只需用间接寻址方式（包括寄存器间接寻址、寄存器相对寻址、基址变址寻址）来获取此地址，然后用段内间接跳转的方式跳转，如:</p><pre class="highlight"><code class="x86asm"><span class="hljs-keyword">JMP</span> [<span class="hljs-built_in">BX</span>]        <span class="hljs-comment">; [BX] 为某个分支的入口地址</span>
<span class="hljs-keyword">JMP</span> TABLE[<span class="hljs-built_in">BX</span>]   <span class="hljs-comment">; TABLE 为跳转表首地址，BX = n * 2</span>
<span class="hljs-keyword">JMP</span> [<span class="hljs-built_in">BX</span>][<span class="hljs-built_in">SI</span>]    <span class="hljs-comment">; BX 为跳转表首地址，SI = n * 2</span>
</code></pre></blockquote><h3 id="子程序传参与递归子程序"><a class="markdownIt-Anchor" href="#子程序传参与递归子程序"></a> 子程序传参与递归子程序</h3><p>子程序传参的方式包括使用寄存器、使用约定的内存变量、使用堆栈；子程序中保存环境形如：</p><pre class="highlight"><code class="x86asm"><span class="hljs-keyword">PUSH</span>    <span class="hljs-built_in">ES</span>
<span class="hljs-keyword">PUSH</span>    <span class="hljs-built_in">DI</span>
<span class="hljs-keyword">PUSH</span>    <span class="hljs-built_in">SI</span>
<span class="hljs-keyword">PUSH</span>    <span class="hljs-built_in">CX</span>

<span class="hljs-comment">; ......</span>

<span class="hljs-keyword">POP</span>     <span class="hljs-built_in">CX</span>
<span class="hljs-keyword">POP</span>     <span class="hljs-built_in">SI</span>
<span class="hljs-keyword">POP</span>     <span class="hljs-built_in">DI</span>
<span class="hljs-keyword">POP</span>     <span class="hljs-built_in">ES</span>
</code></pre><p>保持堆栈平衡，主程序在调用子程序直至子程序返回至主程序的过程中，使用堆栈的顺序是:</p><ul><li>主程序往堆栈中压入几个入口参数（数值或地址），从右往左压栈。</li><li>主程序通过执行 CALL 指令而往堆栈中压入 CALL 下一条指令的 IP（段内调用）或 CS 及 IP（段间调用）。</li><li>子程序在入口处保存环境信息时将其压入堆栈（子程序中通过 BP 间接寻址从堆栈中取出参数，即 PUSH BP 再 MOV BP, SP）。</li><li>子程序过程体压入及弹出堆栈。</li><li>子程序在返回前将入口处保存的环境信息弹出堆栈。</li><li>子程序执行 RET（段内返回）从堆栈中弹出 IP 或执行 RETF（段间返回）从堆栈中弹出 IP 及 CS。</li><li>将调用子程序时执行 CALL 指令前压入堆栈的参数弹出堆栈，或者修改堆栈指针 SP（用到 RET 2N 指令）。</li></ul><p>递归子程序即通过堆栈传参数，保证主程序与子程序的一致性：</p><ul><li>若一个子程序里又调用了一个子程序，这个子程序叫嵌套；若这个被调用的子程序是调用者本身，则称为递归。</li><li>递归调用对堆栈空间很敏感，在调用时，一直往堆栈里压栈（即使没参数），直到一层层返回时，堆栈才恢复。</li></ul><h3 id="相关问题"><a class="markdownIt-Anchor" href="#相关问题"></a> 相关问题</h3><p>堆栈传参字符串拼接：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING      <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;114514_&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">100</span> DUP(?)
LEN         <span class="hljs-built_in">EQU</span>         <span class="hljs-number">101</span>
IN_BUF      <span class="hljs-built_in">DB</span>          LEN - <span class="hljs-number">1</span>
            <span class="hljs-built_in">DB</span>          ?
            <span class="hljs-built_in">DB</span>          LEN DUP(?)
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

READ_STR    PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>]
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
READ_STR    ENDP

CAT_STR     PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">6</span>]
<span class="hljs-symbol">
LP1:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">DI</span>]
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          LP2
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         LP1
<span class="hljs-symbol">LP2:</span>        <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">STOSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JNZ</span>         LP2

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">4</span>
CAT_STR     ENDP

WRITE_STR   PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]

            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
WRITE_STR   ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        READ_STR

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        WRITE_STR
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        WRITE_STR

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        CAT_STR

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        WRITE_STR
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>递归实现阶乘：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100H</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
N           <span class="hljs-built_in">DW</span>          <span class="hljs-number">6</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>: STACK

CALCULATE   PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         CAL1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">JMP</span>         CAL2
<span class="hljs-symbol">CAL1:</span>       <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">CALL</span>        CALCULATE
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
<span class="hljs-symbol">CAL2:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
CALCULATE   ENDP

DISP_VALUE  PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
DLP1:</span>       <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">LOOP</span>        DLP1

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">DLP2:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         DLP2_1
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JZ</span>          DLP2_2
<span class="hljs-symbol">
DLP2_1:</span>     <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">DLP2_2:</span>     <span class="hljs-keyword">LOOP</span>        DLP2

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">RET</span>
DISP_VALUE  ENDP

MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, N
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        CALCULATE
            <span class="hljs-keyword">CALL</span>        DISP_VALUE

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre><p>字符串综合操作：</p><pre class="highlight"><code class="x86asm">STACK       <span class="hljs-meta">SEGMENT</span>     PARA STACK
            <span class="hljs-built_in">DW</span>          <span class="hljs-number">100</span> DUP(?)
STACK       ENDS

DATA        <span class="hljs-meta">SEGMENT</span>     PARA
STRING      <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;litiansuo&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-built_in">DB</span>          <span class="hljs-number">100</span> DUP(?)
LEN         <span class="hljs-built_in">EQU</span>         <span class="hljs-number">101</span>
IN_BUF      <span class="hljs-built_in">DB</span>          LEN - <span class="hljs-number">1</span>
            <span class="hljs-built_in">DB</span>          ?
            <span class="hljs-built_in">DB</span>          LEN DUP(?)
N           <span class="hljs-built_in">EQU</span>         <span class="hljs-number">5</span>
TABLE       <span class="hljs-built_in">DW</span>          TEST_READ, TEST_CHR, TEST_CMP, TEST_CPY, TEST_WRITE
WARNING     <span class="hljs-built_in">DB</span>          <span class="hljs-string">&#x27;invalid input&#x27;</span>, <span class="hljs-string">&#x27;$&#x27;</span>
DATA        ENDS

CODE        <span class="hljs-meta">SEGMENT</span>     PARA
            <span class="hljs-meta">ASSUME</span>      <span class="hljs-built_in">CS</span>:CODE, <span class="hljs-built_in">DS</span>:DATA, <span class="hljs-built_in">SS</span>:STACK

INTREAD     PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
IRLP:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">JE</span>          IRQT
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">JB</span>          IRBD
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">39H</span>
            <span class="hljs-keyword">JA</span>          IRBD
            <span class="hljs-keyword">SUB</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">AH</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MUL</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">LOOP</span>        IRLP
<span class="hljs-symbol">
IRBD:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">RET</span>
<span class="hljs-symbol">
IRQT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">RET</span>
INTREAD     ENDP

INTWRITE    PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>

            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         IWNM
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-string">&#x27;0&#x27;</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">JMP</span>         IWQT
<span class="hljs-symbol">
IWNM:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">10</span>
<span class="hljs-symbol">
IWLP1:</span>      <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">DIV</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">LOOP</span>        IWLP1
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CX</span>, <span class="hljs-number">5</span>
<span class="hljs-symbol">
IWLP2:</span>      <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JNZ</span>         IWLP2_1
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JZ</span>          IWLP2_2
<span class="hljs-symbol">
IWLP2_1:</span>    <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">OR</span>          <span class="hljs-built_in">DL</span>, <span class="hljs-number">30H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
<span class="hljs-symbol">IWLP2_2:</span>    <span class="hljs-keyword">LOOP</span>        IWLP2
<span class="hljs-symbol">
IWQT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">RET</span>
INTWRITE    ENDP

STRREAD     PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">CL</span>, <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>]
            <span class="hljs-keyword">XOR</span>         <span class="hljs-number">CH</span>, <span class="hljs-number">CH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">SI</span>, <span class="hljs-built_in">CX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BYTE</span> <span class="hljs-built_in">PTR</span> [<span class="hljs-built_in">SI</span>], <span class="hljs-string">&#x27;$&#x27;</span>

            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
STRREAD     ENDP

STRCHR      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">6</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DX</span>

            <span class="hljs-keyword">XOR</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DL</span>, <span class="hljs-built_in">AL</span>
            <span class="hljs-keyword">CLD</span>
<span class="hljs-symbol">CHLP:</span>       <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          CHQT
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">DL</span>
            <span class="hljs-keyword">JNZ</span>         CHLP
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">JMP</span>         CHLP
<span class="hljs-symbol">
CHQT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BX</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
STRCHR      ENDP

STRCMP      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">6</span>]
<span class="hljs-symbol">
CMLP:</span>       <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-built_in">ES</span>:[<span class="hljs-built_in">DI</span>]
            <span class="hljs-keyword">JA</span>          CML1
            <span class="hljs-keyword">JB</span>          CML2
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JZ</span>          CML3
            <span class="hljs-keyword">INC</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">JMP</span>         CMLP
<span class="hljs-symbol">CML1:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">1</span>
            <span class="hljs-keyword">JMP</span>         CMQT
<span class="hljs-symbol">CML2:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0FFFFH</span>
            <span class="hljs-keyword">JMP</span>         CMQT
<span class="hljs-symbol">CML3:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
<span class="hljs-symbol">
CMQT:</span>       <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">4</span>
STRCMP      ENDP

STRCPY      PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">SI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DI</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">6</span>]
<span class="hljs-symbol">
CPLP:</span>       <span class="hljs-keyword">LODSB</span>
            <span class="hljs-keyword">STOSB</span>
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;$&#x27;</span>
            <span class="hljs-keyword">JNZ</span>         CPLP

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">DI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">SI</span>
            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">4</span>
STRCPY      ENDP

STRWRITE    PROC
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BP</span>, <span class="hljs-built_in">SP</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, [<span class="hljs-built_in">BP</span> + <span class="hljs-number">4</span>]

            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">9</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>

            <span class="hljs-keyword">POP</span>         <span class="hljs-built_in">BP</span>
            <span class="hljs-keyword">RET</span>         <span class="hljs-number">2</span>
STRWRITE    ENDP

TEST_READ   PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRREAD
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">RET</span>
TEST_READ   ENDP

TEST_CHR    PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AL</span>, <span class="hljs-string">&#x27;h&#x27;</span>
            <span class="hljs-keyword">CALL</span>        STRCHR
            <span class="hljs-keyword">CALL</span>        INTWRITE
            <span class="hljs-keyword">RET</span>
TEST_CHR    ENDP

TEST_CMP    PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRCMP

            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">61</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0DH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DX</span>, <span class="hljs-number">0AH</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-number">AH</span>, <span class="hljs-number">2</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
            <span class="hljs-keyword">RET</span>
TEST_CMP    ENDP

TEST_CPY    PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRCPY
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">RET</span>
TEST_CPY    ENDP

TEST_WRITE  PROC
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET STRING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET IN_BUF + <span class="hljs-number">2</span>
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">RET</span>
TEST_WRITE  ENDP


MAIN        PROC        <span class="hljs-built_in">FAR</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, DATA
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">DS</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">ES</span>, <span class="hljs-built_in">AX</span>
<span class="hljs-symbol">
MLP:</span>        <span class="hljs-keyword">CALL</span>        INTREAD
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">0</span>
            <span class="hljs-keyword">JZ</span>          EXIT
            <span class="hljs-keyword">CMP</span>         <span class="hljs-built_in">AX</span>, N
            <span class="hljs-keyword">JA</span>          ERR
            <span class="hljs-keyword">DEC</span>         <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">BX</span>, OFFSET TABLE
            <span class="hljs-keyword">ADD</span>         <span class="hljs-built_in">BX</span>, <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        [<span class="hljs-built_in">BX</span>]
            <span class="hljs-keyword">JMP</span>         MLP
<span class="hljs-symbol">
ERR:</span>        <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, OFFSET WARNING
            <span class="hljs-keyword">PUSH</span>        <span class="hljs-built_in">AX</span>
            <span class="hljs-keyword">CALL</span>        STRWRITE
            <span class="hljs-keyword">JMP</span>         MLP
<span class="hljs-symbol">
EXIT:</span>       <span class="hljs-keyword">MOV</span>         <span class="hljs-built_in">AX</span>, <span class="hljs-number">4C00H</span>
            <span class="hljs-keyword">INT</span>         <span class="hljs-number">21H</span>
MAIN        ENDP
CODE        ENDS
            END         MAIN
</code></pre></div><div>Word count: 6k</div><div>Reading time: 32min</div><div><div><a href="/archive/2022/06/1">Created 2022-06-12T14:42:15.000Z</a></div></div><div><div><a href="/archive/2022/06/1">Last Modified 2022-06-12T14:42:15.000Z</a></div></div><div><br><br></div></div></content><div><br></div><footer>Copyright © 2020-2023 Chenrt Blog</footer></noscript><div id="app"></div></body></html>