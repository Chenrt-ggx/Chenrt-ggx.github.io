<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Chenrt"><meta name="keywords" content="Chenrt, @Chenrt, Chenrt Blog, 计算机, 网络安全, 博客, 个人网站"><meta name="description" content="Chenrt 的个人博客"><meta name="generator" content="Hexo"><link rel="icon" href="/favicon.svg"><title>Chenrt の 小窝 - Hexo Theme Naive 使用说明</title><script defer="defer" src="/js/chunk-vendors.js"></script><script defer="defer" src="/js/app.js"></script><link href="/css/chunk-vendors.css" rel="stylesheet"><link href="/css/app.css" rel="stylesheet"></head><body><noscript><header><nav><a href="/">Home</a></nav><nav><a href="/blogs/1">Blogs</a></nav><nav><a href="/category">Categories</a></nav><nav><a href="/tag">Tags</a></nav><nav><a href="/archive">Archives</a></nav><nav><a href="/about">About</a></nav><nav><a href="/apis">Api</a></nav></header><div><br></div><content><div><a href="/blog/7fffb470326c"><h1>Hexo Theme Naive 使用说明</h1></a><div><div><div><a href="/category/Hexo/1">Hexo</a></div></div></div><div><div><div><a href="/tag/Config/1">Config</a></div></div></div><div><p>以 <a href="https://github.com/hexojs/hexo-starter">Hexo Starter</a> 为例安装 <a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a>。</p><span id="more"></span><h2 id="调整依赖"><a class="markdownIt-Anchor" href="#调整依赖"></a> 调整依赖</h2><h3 id="删除所有-hexo-generator"><a class="markdownIt-Anchor" href="#删除所有-hexo-generator"></a> 删除所有 Hexo Generator</h3><p><a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 重新实现了页面、目录、标签和归档的维护。</p><pre class="highlight"><code class="plain">npm uninstall hexo-generator-archive
npm uninstall hexo-generator-category
npm uninstall hexo-generator-index
npm uninstall hexo-generator-tag
</code></pre><h3 id="删除所有-hexo-renderer"><a class="markdownIt-Anchor" href="#删除所有-hexo-renderer"></a> 删除所有 Hexo Renderer</h3><p>如果不需要数学公式支持，也可以使用 <code>hexo-renderer-marked</code> 并在 config.yml 中开启 highlight.js。</p><pre class="highlight"><code class="plain">npm uninstall hexo-renderer-ejs
npm uninstall hexo-renderer-marked
npm uninstall hexo-renderer-stylus
</code></pre><h3 id="删除默认主题"><a class="markdownIt-Anchor" href="#删除默认主题"></a> 删除默认主题</h3><p>不然会喜提一堆无用的 CSS 和 JS 文件。</p><pre class="highlight"><code class="plain">npm uninstall hexo-theme-landscape
rm _config.landscape.yml
</code></pre><h3 id="安装-markdown-渲染器"><a class="markdownIt-Anchor" href="#安装-markdown-渲染器"></a> 安装 Markdown 渲染器</h3><p>这个渲染器有数学公式支持支持且内置了 highlight.js 高亮，在 config.yml 可关闭 highlight.js。</p><pre class="highlight"><code class="plain">npm install hexo-renderer-markdown-it-plus
</code></pre><h3 id="安装-hexo-restful-api"><a class="markdownIt-Anchor" href="#安装-hexo-restful-api"></a> 安装 Hexo Restful Api</h3><p>为 <a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 提供 API 和回退路由。</p><pre class="highlight"><code class="plain">npm install hexo-restful-api
</code></pre><h2 id="安装主题"><a class="markdownIt-Anchor" href="#安装主题"></a> 安装主题</h2><p>在这里下载最新版本的 <a href="https://github.com/Chenrt-ggx/HexoThemeNaive/releases">Hexo Theme Naive</a> Release 包。</p><p>创建目录 <code>themes/naive/source</code>，将解压后的文件放入这个目录。</p><h3 id="未支持的功能"><a class="markdownIt-Anchor" href="#未支持的功能"></a> 未支持的功能</h3><ul><li><a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 重新实现了页面、目录、标签和归档的维护，因而不再支持 Hexo 中的 Page 功能。</li><li><a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 未（也不打算）支持 Gallery Post 和 Excerpts，如需要这两个功能请自行魔改。</li></ul><h2 id="修改配置"><a class="markdownIt-Anchor" href="#修改配置"></a> 修改配置</h2><h3 id="处理-hexo-内置渲染"><a class="markdownIt-Anchor" href="#处理-hexo-内置渲染"></a> 处理 Hexo 内置渲染</h3><p>在卸载了 Hexo Generator 系列后，Hexo 不再会为 Categories、Tags、Archives 生成页面，但仍然会为博客生成页面。<a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 重新实现各页面的生成，因而需要将 Hexo 渲染的博客放到单独的目录，在部署的时候删除它们。</p><p>一个参考的配置如下，在部署时只要删除 <code>drop</code> 目录即可：</p><pre class="highlight"><code class="yml"><span class="hljs-attr">permalink:</span> <span class="hljs-string">drop/blog/:hash/</span>
</code></pre><h3 id="关闭代码高亮"><a class="markdownIt-Anchor" href="#关闭代码高亮"></a> 关闭代码高亮</h3><p>渲染器 <a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">hexo-renderer-markdown-it-plus</a> 内置了 highlight.js 高亮，更多配置请参考其<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">文档</a>。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">highlight:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">prismjs:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span>
</code></pre><h3 id="配置主题"><a class="markdownIt-Anchor" href="#配置主题"></a> 配置主题</h3><p>设置 <code>theme</code>，开启 <code>generate_html</code> 以生成作为回退路由的 HTML 文件。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">theme:</span> <span class="hljs-string">naive</span>
<span class="hljs-attr">generate_html:</span> <span class="hljs-literal">true</span>
</code></pre><h3 id="配置静态资源"><a class="markdownIt-Anchor" href="#配置静态资源"></a> 配置静态资源</h3><p>示例如下，<code>favicon.svg</code> 位于 <code>themes/naive/source</code>（相对路径），另外三项位于 <code>themes/naive/source/assets</code>（绝对路径）。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">favicon:</span> <span class="hljs-string">favicon.svg</span>
<span class="hljs-attr">avatar:</span> <span class="hljs-string">/assets/avatar.jpg</span>
<span class="hljs-attr">bgm:</span> <span class="hljs-string">/assets/bgm.mp3</span>
<span class="hljs-attr">egg:</span> <span class="hljs-string">/assets/egg.png</span>
</code></pre><h3 id="配置个人信息"><a class="markdownIt-Anchor" href="#配置个人信息"></a> 配置个人信息</h3><p>似乎直接放例子比较清楚。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">email:</span> <span class="hljs-string">个人邮箱</span>
<span class="hljs-attr">introductions:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">自我介绍列表。</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">每一项会渲染为一行。</span>
<span class="hljs-attr">repos:</span> <span class="hljs-comment"># 个人仓库列表</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">仓库名称</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">仓库地址</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">仓库描述</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Chenrt-ggx/HexoThemeNaive</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">https://github.com/Chenrt-ggx/HexoThemeNaive</span>
    <span class="hljs-attr">description:</span> <span class="hljs-string">A</span> <span class="hljs-string">Vue3</span> <span class="hljs-string">and</span> <span class="hljs-string">Naive</span> <span class="hljs-string">UI</span> <span class="hljs-string">based</span> <span class="hljs-string">CSR</span> <span class="hljs-string">hexo</span> <span class="hljs-string">blog</span> <span class="hljs-string">theme.</span>
<span class="hljs-attr">friends:</span> <span class="hljs-comment"># 友链列表</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">友链名称</span>
    <span class="hljs-attr">page:</span> <span class="hljs-string">友链地址</span>
    <span class="hljs-attr">avatar:</span> <span class="hljs-string">友链头像</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Chenrt</span>
    <span class="hljs-attr">page:</span> <span class="hljs-string">https://github.com/Chenrt-ggx</span>
    <span class="hljs-attr">avatar:</span> <span class="hljs-string">https://avatars.githubusercontent.com/u/64241518</span>
</code></pre><h2 id="部署主题"><a class="markdownIt-Anchor" href="#部署主题"></a> 部署主题</h2><p>除了 Hexo 提供的<a href="https://hexo.io/docs/one-command-deployment.html">部署工具</a>，在 GitHub 部署时 GitHub Action 也是一个不错的选择。</p><h3 id="在当前仓库部署"><a class="markdownIt-Anchor" href="#在当前仓库部署"></a> 在当前仓库部署</h3><p>可参考 <a href="https://github.com/JamesIves/github-pages-deploy-action">github-pages-deploy-action</a> 官方文档。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span>
<span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@v4</span>
<span class="hljs-attr">with:</span>
  <span class="hljs-attr">folder:</span> <span class="hljs-string">public</span>
</code></pre><h3 id="在其它仓库部署"><a class="markdownIt-Anchor" href="#在其它仓库部署"></a> 在其它仓库部署</h3><p>需要提前准备一个具有 Repo 权限的 Access Token。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span>
<span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@v4</span>
<span class="hljs-attr">with:</span>
  <span class="hljs-attr">token:</span> <span class="hljs-string">$&#123;&#123; secrets.DEPLOY_TO_USER_REPOSITORY &#125;&#125;</span>
  <span class="hljs-attr">repository-name:</span> <span class="hljs-string">example/example.github.io</span>
  <span class="hljs-attr">folder:</span> <span class="hljs-string">public</span>
</code></pre><h2 id="在非根目录部署"><a class="markdownIt-Anchor" href="#在非根目录部署"></a> 在非根目录部署</h2><h3 id="重新打包主题"><a class="markdownIt-Anchor" href="#重新打包主题"></a> 重新打包主题</h3><p><a href="https://github.com/Chenrt-ggx/HexoThemeNaive">Hexo Theme Naive</a> 的 <a href="https://github.com/Chenrt-ggx/HexoThemeNaive/releases">Release</a> 使用了默认的公共目录 <code>/</code>，在非根目录部署时需要重新打包。</p><p>如果你需要部署在 <code>site</code> 目录下，可以执行以下命令：</p><pre class="highlight"><code class="plain">npm install
npx cross-env VUE_PUBLIC_PATH=/site/ vue-cli-service build
</code></pre><h3 id="修改-root"><a class="markdownIt-Anchor" href="#修改-root"></a> 修改 Root</h3><p>在 config.yml 中设置 <code>root</code> 字段，如果你需要部署在 <code>site</code> 目录下，可以这样设置：</p><pre class="highlight"><code class="yml"><span class="hljs-attr">root:</span> <span class="hljs-string">/site/</span>
</code></pre><h3 id="修改静态资源路径"><a class="markdownIt-Anchor" href="#修改静态资源路径"></a> 修改静态资源路径</h3><p>可参考<a href="https://github.com/Chenrt-ggx/HexoDemoNaive">此仓库</a>的文件树和静态资源配置。</p><pre class="highlight"><code class="yml"><span class="hljs-attr">favicon:</span> <span class="hljs-string">favicon.svg</span>
<span class="hljs-attr">avatar:</span> <span class="hljs-string">/HexoDemoNaive/assets/avatar.svg</span>
<span class="hljs-attr">bgm:</span> <span class="hljs-string">/HexoDemoNaive/assets/standard-jazz-bars.mp3</span>
</code></pre></div><div>Word count: 902</div><div>Reading time: 4min</div><div><div><a href="/archive/2023/01/1">Created 2023-01-28T17:16:38.000Z</a></div></div><div><div><a href="/archive/2023/01/1">Last Modified 2023-01-29T04:31:22.000Z</a></div></div><div><br><br></div></div></content><div><br></div><footer>Copyright © 2022-2023 Chenrt Blog</footer></noscript><div id="app"></div></body></html>